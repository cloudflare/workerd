From 69f6c3d15022bb6e230913c005ec8db92c741b74 Mon Sep 17 00:00:00 2001
From: Erik Corry <erikcorry@chromium.org>
Date: Mon, 3 Mar 2025 22:30:37 +0100
Subject: [PATCH 19/22] Modify where to look for fast_float and simdutf.

Similar to fp16, these dependencies now needs to be downloaded by bazel.
---
 BUILD.bazel                          | 4 ++--
 src/builtins/builtins-typed-array.cc | 2 +-
 src/objects/string.h                 | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/BUILD.bazel b/BUILD.bazel
index 8930baf61ba..f44de2551a4 100644
--- a/BUILD.bazel
+++ b/BUILD.bazel
@@ -4443,9 +4443,9 @@ v8_library(
     ],
     deps = [
-        ":lib_dragonbox",
+        "@lib_dragonbox//:headers",
-        "//third_party/fast_float/src:fast_float",
+        "@fast_float",
         ":lib_fp16",
-        ":simdutf",
+        "@simdutf",
         ":v8_libbase",
         "@abseil-cpp//absl/container:btree",
         "@abseil-cpp//absl/container:flat_hash_map",
diff --git a/src/builtins/builtins-typed-array.cc b/src/builtins/builtins-typed-array.cc
index e17c0137a8a..9276ef9f456 100644
--- a/src/builtins/builtins-typed-array.cc
+++ b/src/builtins/builtins-typed-array.cc
@@ -12,7 +12,7 @@
 #include "src/objects/js-array-buffer-inl.h"
 #include "src/objects/objects-inl.h"
 #include "src/objects/simd.h"
-#include "third_party/simdutf/simdutf.h"
+#include "simdutf.h"

 namespace v8 {
 namespace internal {
diff --git a/src/objects/string.h b/src/objects/string.h
index 9b7574df4f2..ae7b7167d2f 100644
--- a/src/objects/string.h
+++ b/src/objects/string.h
@@ -21,7 +21,7 @@
 #include "src/objects/tagged.h"
 #include "src/sandbox/external-pointer.h"
 #include "src/strings/unicode-decoder.h"
-#include "third_party/simdutf/simdutf.h"
+#include "simdutf.h"

 // Has to be the last include (doesn't have include guards):
 #include "src/objects/object-macros.h"
--
2.43.0

